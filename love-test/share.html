<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í≥µÏú†ÌïòÍ∏∞</title>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1219204287783717"
         crossorigin="anonymous"></script>
    
    <style>
        * {
            margin: 0 !important;
            padding: 0 !important;
            box-sizing: border-box !important;
        }
        
        html {
            width: 100vw !important;
            height: 100vh !important;
            overflow: hidden !important;
        }
        
        body {
            width: 100vw !important;
            height: 100vh !important;
            font-family: 'Segoe UI', Tahoma, sans-serif !important;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            overflow: hidden !important;
        }
        
        .container {
            background: white !important;
            border-radius: 20px !important;
            padding: 50px 40px !important;
            max-width: 500px !important;
            width: 90% !important;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3) !important;
            text-align: center !important;
            position: relative !important;
            z-index: 10000 !important;
        }
        
        .emoji {
            font-size: 5em !important;
            margin-bottom: 20px !important;
            animation: spin 2s linear infinite !important;
            display: block !important;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        h1 {
            color: #764ba2 !important;
            font-size: 2em !important;
            margin-bottom: 15px !important;
        }
        
        p {
            color: #666 !important;
            font-size: 1.1em !important;
            line-height: 1.6 !important;
        }
        
        .countdown {
            font-size: 3em !important;
            color: #764ba2 !important;
            font-weight: bold !important;
            margin: 20px 0 !important;
            display: block !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="emoji">üíï</div>
        <h1>Í≥µÏú† Ï§ÄÎπÑ Ï§ë...</h1>
        <p>Ïû†ÏãúÎßå Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî</p>
        <div class="countdown" id="countdown">3</div>
    </div>

    <script>
        const results = {
            "ESTJ": { emoji: "ü¶Å", title: "Îì†Îì†Ìïú ÏÇ¨ÏûêÌòï" },
            "ESFJ": { emoji: "üê∂", title: "Îã§Ï†ïÌïú Í∞ïÏïÑÏßÄÌòï" },
            "ISTJ": { emoji: "üêò", title: "ÏÑ±Ïã§Ìïú ÏΩîÎÅºÎ¶¨Ìòï" },
            "ISFJ": { emoji: "üê®", title: "Ìè¨Í∑ºÌïú ÏΩîÏïåÎùºÌòï" },
            "ESTP": { emoji: "üêÜ", title: "ÏßúÎ¶øÌïú ÏπòÌÉÄÌòï" },
            "ESFP": { emoji: "üê¨", title: "Ïã†ÎÇòÎäî ÎèåÍ≥†ÎûòÌòï" },
            "ISTP": { emoji: "üê∫", title: "Ïø®Ìïú ÎäëÎåÄÌòï" },
            "ISFP": { emoji: "ü¶å", title: "Ïò®ÌôîÌïú ÏÇ¨Ïä¥Ìòï" },
            "ENTJ": { emoji: "ü¶Ö", title: "ÎãπÎãπÌïú ÎèÖÏàòÎ¶¨Ìòï" },
            "ENFJ": { emoji: "ü¶ã", title: "Îß§Î†•Ï†ÅÏù∏ ÎÇòÎπÑÌòï" },
            "INTJ": { emoji: "ü¶â", title: "ÏßÄÌòúÎ°úÏö¥ Ïò¨ÎπºÎØ∏Ìòï" },
            "INFJ": { emoji: "ü¶ä", title: "Ïã†ÎπÑÎ°úÏö¥ Ïó¨Ïö∞Ìòï" },
            "INTP": { emoji: "üê±", title: "ÏûêÏú†Î°úÏö¥ Í≥†ÏñëÏù¥Ìòï" },
            "INFP": { emoji: "üê∞", title: "Î°úÎß®Ìã± ÌÜ†ÎÅºÌòï" },
            "ENTP": { emoji: "ü¶ä", title: "Ïû¨ÏπòÏûàÎäî Ïó¨Ïö∞Ìòï" },
            "ENFP": { emoji: "üêµ", title: "Î∞úÎûÑÌïú ÏõêÏà≠Ïù¥Ìòï" }
        };

        // URL ÌååÎùºÎØ∏ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞
        const urlParams = new URLSearchParams(window.location.search);
        const mbtiType = urlParams.get('type');
        const platform = urlParams.get('platform');

        // Ïπ¥Ïö¥Ìä∏Îã§Ïö¥
        let countdown = 3;
        const countdownEl = document.getElementById('countdown');
        
        const timer = setInterval(() => {
            countdown--;
            countdownEl.textContent = countdown;
            
            if (countdown <= 0) {
                clearInterval(timer);
                executeShare();
            }
        }, 1000);

        function executeShare() {
            const baseUrl = window.location.origin + window.location.pathname.replace('share.html', '');
            const shareUrl = baseUrl + '?type=' + mbtiType;
            const result = results[mbtiType];

            if (!result) {
                window.location.href = baseUrl;
                return;
            }

            if (platform === 'kakao') {
                const shareText = `ÎÇòÎäî ${result.emoji} ${result.title}!\n\nÎÇòÏùò Ïó∞Ïï† Ïä§ÌÉÄÏùº ÌÖåÏä§Ìä∏ Í≤∞Í≥ºÎ•º ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî üíï`;
                
                if (navigator.share) {
                    navigator.share({
                        title: 'ÎÇòÏùò Ïó∞Ïï† Ïä§ÌÉÄÏùº ÌÖåÏä§Ìä∏',
                        text: shareText,
                        url: shareUrl
                    }).then(() => {
                        window.location.href = shareUrl;
                    }).catch(() => {
                        copyToClipboard(shareUrl);
                        alert('ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏñ¥Ïöî! Ïπ¥Ïπ¥Ïò§ÌÜ°ÏóêÏÑú Í≥µÏú†Ìï¥Ï£ºÏÑ∏Ïöî üíï');
                        window.location.href = shareUrl;
                    });
                } else {
                    copyToClipboard(shareUrl);
                    alert('ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏñ¥Ïöî! Ïπ¥Ïπ¥Ïò§ÌÜ°ÏóêÏÑú Í≥µÏú†Ìï¥Ï£ºÏÑ∏Ïöî üíï');
                    window.location.href = shareUrl;
                }
            } else if (platform === 'facebook') {
                const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`;
                window.open(facebookUrl, '_blank', 'width=600,height=400');
                setTimeout(() => {
                    window.location.href = shareUrl;
                }, 1000);
            } else if (platform === 'twitter') {
                const shareText = `ÎÇòÎäî ${result.emoji} ${result.title}!\n\nÎÇòÏùò Ïó∞Ïï† Ïä§ÌÉÄÏùºÏùÄ?`;
                const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`;
                window.open(twitterUrl, '_blank', 'width=600,height=400');
                setTimeout(() => {
                    window.location.href = shareUrl;
                }, 1000);
            } else if (platform === 'link') {
                copyToClipboard(shareUrl);
                alert('‚úÖ ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏñ¥Ïöî!');
                window.location.href = shareUrl;
            } else {
                window.location.href = shareUrl;
            }
        }

        function copyToClipboard(text) {
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text);
            } else {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
            }
        }
    </script>
</body>
</html>
